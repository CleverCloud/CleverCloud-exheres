Upstream: no, upstream ignores patch submissions
From 8179cb4457c9d8c5581ccb222ef524a8bc73edfb Mon Sep 17 00:00:00 2001
From: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>
Date: Tue, 21 Aug 2012 11:47:41 +0200
Subject: [PATCH 1/3] Fix null bug in order_by.

Signed-off-by: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>
---
 nova/db/sqlalchemy/api.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/nova/db/sqlalchemy/api.py b/nova/db/sqlalchemy/api.py
index ca07565..6731eba 100644
--- a/nova/db/sqlalchemy/api.py
+++ b/nova/db/sqlalchemy/api.py
@@ -320,7 +320,7 @@ def _service_get_all_topic_subquery(context, session, topic, subq, label):
                 filter_by(topic=topic).\
                 filter_by(disabled=False).\
                 outerjoin((subq, models.Service.host == subq.c.host)).\
-                order_by(sort_value).\
+                order_by(sort_value.nullsfirst()).\
                 all()
 
 
-- 
1.7.12.4

