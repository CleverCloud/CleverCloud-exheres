# Copyright 2024 David Legrand <david.legrand@clever-cloud.com>
# Distributed under the terms of the GNU General Public License v2

require go [ go_minimum_version=1.25.0 bin_path="bin" bin_name="symfony" ] github [ tag=v${PV} ]

SUMMARY="A must-have tool when developing Symfony applications on your local machine"

LICENCES="AGPL-3.0"
SLOT="0"
PLATFORMS="~amd64 ~armv8"
MYOPTIONS=""

DEPENDENCIES="
    run: dev-lang/php:*
"

# LDFLAGS from https://github.com/symfony-cli/symfony-cli/blob/main/.goreleaser.yml
GO_SRC_COMPILE_LDFLAGS=(
    "-s"
    "-w"
    "-X main.version=${PV}"
)

